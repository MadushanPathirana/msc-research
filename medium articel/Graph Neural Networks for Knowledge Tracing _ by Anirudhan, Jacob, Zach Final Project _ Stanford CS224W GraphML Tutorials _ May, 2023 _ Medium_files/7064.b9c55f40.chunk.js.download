(self.webpackChunklite=self.webpackChunklite||[]).push([[7064],{353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=r.createElement("path",{d:"M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z",fill:"#292929"});const l=function(e){return r.createElement("svg",i({width:25,height:25,viewBox:"0 0 25 25",fill:"none"},e),o)}},59250:(e,t,n)=>{"use strict";n.d(t,{MA:()=>a,Zh:()=>c,jM:()=>u});var r=n(63038),i=n.n(r),o=n(67294),l={mutedAuthorIds:[],setMutedAuthorIds:function(){},mutedPubIds:[],setMutedPubIds:function(){},dismissedPostIds:[],setDismissedPostIds:function(){},isMutingFromHomeFeed:!0,seeLessPostIds:[],setSeeLessPostIds:function(){}},a=function(e,t,n,r,i){return e.filter((function(e){var o,l,a=null==e?void 0:e.post;return!!a&&!(t.includes(null===(o=a.creator)||void 0===o?void 0:o.id)||n.includes(null===(l=a.collection)||void 0===l?void 0:l.id)||r.includes(a.id)||i.includes(a.id))}))},s=(0,o.createContext)(l),c=function(e){var t=e.children,n=(0,o.useState)(l.mutedAuthorIds),r=i()(n,2),a=r[0],c=r[1],u=(0,o.useState)(l.mutedPubIds),d=i()(u,2),m=d[0],p=d[1],v=(0,o.useState)(l.dismissedPostIds),f=i()(v,2),E=f[0],h=f[1],b=(0,o.useState)(l.seeLessPostIds),g=i()(b,2),k=g[0],C=g[1],P=l.isMutingFromHomeFeed;return o.createElement(s.Provider,{value:{mutedAuthorIds:a,setMutedAuthorIds:c,mutedPubIds:m,setMutedPubIds:p,dismissedPostIds:E,setDismissedPostIds:h,isMutingFromHomeFeed:P,seeLessPostIds:k,setSeeLessPostIds:C}},t)},u=function(){return(0,o.useContext)(s)}},25145:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,L:()=>u});var r=n(67294),i=n(84739),o=n(60671),l=n(92661),a=n(43487),s=n(68427),c=function(){var e=(0,a.v9)((function(e){return e.config.authDomain})),t=(0,l.k6)(),n=t.type===o.Cr.USER,c=(0,l.uk)(),u=(0,s.B)(),d=(0,i.I)();return(0,r.useCallback)((function(t){var r,i=t.uniqueSlug||t.id;if(t.isSeries)return"https://".concat(e).concat(c("ShowSeries",{postId:i}));if(null!==(r=t.sequence)&&void 0!==r&&r.slug)return"https://".concat(e).concat(c("ShowSequencePost",{sequenceSlug:t.sequence.slug,postId:i}));if(t.collection&&!n){var o=u({id:t.collection.id,domain:t.collection.domain,slug:t.collection.slug});return"".concat(o,"/").concat(i)}if(t.creator){var l=d(t.creator);return"".concat(l,"/").concat(i)}return"https://".concat(e).concat(c("ShowPost",{postId:i}))}),[t,c,u,d])},u=function(e){return c()(e)}},70929:(e,t,n)=>{"use strict";n.d(t,{o:()=>w});var r=n(67154),i=n.n(r),o=n(6479),l=n.n(o),a=n(59713),s=n.n(a),c=n(67294),u=n(6443),d=n(26350),m=n(78817),p=n(30020),v=n(87691),f=n(14646),E=n(97217),h=n(353),b=n(65331),g=n(62212);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){return{"& svg path":{fill:e.baseColor.text.lighter}}},S=function(e,t,n){switch(e){case"ICON_TEXT":return function(e,t){return function(n){return C(C({border:"1px solid ".concat(n.baseColor.border.lighter),borderRadius:"99em",padding:"6px 15px 6px 10px",display:"flex",alignItems:"center",":hover":{borderColor:n.baseColor.border.light},"& svg":{marginRight:"8px"},cursor:t?"not-allowed":"pointer",opacity:t?.3:void 0},P(n)),e)}}(t,n);case"ICON_SUBTLE":default:return function(e,t){return function(n){var r=n.baseColor.fill.darker,i=n.baseColor.text.lighter;return C(C({padding:"8px 2px",":hover:not(:disabled) svg path":{fill:t?i:r},":focus svg path":{fill:t?i:r},cursor:t?"not-allowed":"pointer",opacity:t?.3:void 0},P(n)),e)}}(t,n)}},I="Add to list bookmark button",y=function(e){var t=e.bookmarkIcon,n=e.buttonStyle,r=e.onClick,i=e.isPanelVisible,o=e.rules,l=e.disabled;return c.createElement(m.P,{ariaControls:"addToCatalogBookmarkButton",ariaLabel:I,ariaExpanded:i?"true":"false",onClick:r,rules:S(n,o),disabled:l},t,"ICON_TEXT"===n&&c.createElement(v.F,{scale:"M"},"Save"))};function w(e){var t=e.buttonStyle,n=void 0===t?"ICON":t,r=e.susiEntry,o=void 0===r?"list":r,a=e.susiActionUrl,s=e.rules,m=l()(e,["buttonStyle","susiEntry","susiActionUrl","rules"]),k=(0,f.I)(),C=(0,u.H)(),P=C.value,w=C.loading,x=m.kind===E.ej.POST,F=x?m.target.isPublished:void 0;return x&&!F?c.createElement(p._,{placement:"top",targetDistance:10,tooltipText:"You cannot Save a draft"},c.createElement("div",{className:k(S(n,s,!0))},c.createElement(h.Z,{className:k(g.K),"aria-label":I,disabled:!0}),"ICON_TEXT"===n&&c.createElement(v.F,{scale:"M"},"Save"))):w||P?c.createElement(p._,{placement:"top",targetDistance:10,tooltipText:"Save"},c.createElement(b.a,i()({},m,{viewer:P}),(function(e){var t=e.onClick,r=e.bookmarkIcon,i=e.isPanelVisible,o=e.isDisabled;return c.createElement(y,{buttonStyle:n,bookmarkIcon:r,onClick:t,isPanelVisible:i,rules:s,disabled:o})}))):c.createElement(p._,{placement:"top",targetDistance:10,tooltipText:"Save"},c.createElement(d.R,{operation:"register",susiEntry:o,actionUrl:a},c.createElement(y,{buttonStyle:n,rules:s,bookmarkIcon:c.createElement(h.Z,{className:k(g.K),"aria-label":I})})))}},21309:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(67294),i=n(77355),o=n(14646),l=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},a=function(e){var t=e.collection,n=e.marginLeft,a=(0,o.I)();return t?r.createElement(i.x,{marginLeft:n,display:"inline-block"},r.createElement("strong",{className:a(l)},t.name)):null}},60765:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(67294),i=n(27323),o=function(e){var t=e.children,n=e.className,o=void 0===n?"":n,l=e.href,a=e.onClick;return l?r.createElement(i.P,{className:o,href:l,onClick:a},t):t}},34796:(e,t,n)=>{"use strict";n.d(t,{FV:()=>s});var r,i=n(67294),o=n(21309),l=n(6443),a=n(67701);!function(e){e.CollectionPendingAsEditorAndAuthor="CollectionPendingAsEditorAndAuthor",e.CollectionPendingKnown="CollectionPendingKnown",e.CollectionPending="CollectionPending",e.CollectionUnsubmitted="CollectionUnsubmitted",e.Normal="Normal"}(r||(r={}));var s=function(e){var t=e.post,n=c(t);if(!t||!n)return null;var l=t.pendingCollection,a=i.createElement(o.t,{collection:l,marginLeft:"4px"});switch(n){case r.CollectionPendingAsEditorAndAuthor:return i.createElement(i.Fragment,null,"Draft in",a);case r.CollectionPendingKnown:return i.createElement(i.Fragment,null,"Draft submitted to",a);case r.CollectionPending:return i.createElement(i.Fragment,null,"Submitted draft");case r.CollectionUnsubmitted:return i.createElement(i.Fragment,null,"Unsubmitted draft");case r.Normal:return i.createElement(i.Fragment,null,"Draft")}},c=function(e){var t,n=(0,l.H)().value,i=null==e?void 0:e.pendingCollection,o=null==e||null===(t=e.creator)||void 0===t?void 0:t.id,s=!!n&&!(null==i||!i.creator)&&i.creator.id===n.id,c=(0,a.gY)(i).viewerEdge,u=null==c?void 0:c.isEditor,d=s||u,m=d||!!n&&n.id===o,p=m&&i;return!e||e.isPublished?null:m&&"PENDING"===e.statusForCollection?p?d&&n&&n.id===o?r.CollectionPendingAsEditorAndAuthor:r.CollectionPendingKnown:r.CollectionPending:"NOT_YET_SUBMITTED"===e.statusForCollection?r.CollectionUnsubmitted:r.Normal}},50455:(e,t,n)=>{"use strict";n.d(t,{e:()=>k});var r=n(28655),i=n.n(r),o=n(92471),l=n(67294),a=n(70929),s=n(84130),c=n(62212),u=n(6443),d=n(26350),m=n(66081),p=n(30020),v=n(14646),f=n(97217),E=n(43487),h=n(353),b=n(50458);function g(){var e=i()(["\n  fragment BookmarkButton_post on Post {\n    visibility\n    ...SusiClickable_post\n    ...AddToCatalogBookmarkButton_post\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function k(e){var t=e.post,n=e.withReadingListTooltip,r=void 0===n||n,i=e.susiEntry,o=e.rules,s=e.targetDistance,m=void 0===s?10:s,g=t.id,k=t.visibility,C=(0,v.I)(),P=(0,E.v9)((function(e){return e.config.authDomain})),S=(0,u.H)(),I=S.value;return S.loading||k===f.Wn.UNLISTED?null:I?l.createElement(a.o,{kind:f.ej.POST,target:t,rules:o}):l.createElement(p._,{isVisible:r,placement:"top",targetDistance:m,tooltipText:"Bookmark story"},l.createElement(d.R,{post:t,operation:"register",actionUrl:(0,b.XE)(P,g),susiEntry:i},l.createElement(h.Z,{className:C([c.K,o])})))}(0,o.Ps)(g(),m.qU,s.G)},78060:(e,t,n)=>{"use strict";n.d(t,{u:()=>ae});var r=n(67294),i=n(67154),o=n.n(i),l=n(63038),a=n.n(l),s=n(59713),c=n.n(s),u=n(64718),d=n(14045),m=n(24415),p=n(75150),v=n(32947),f=n(87166),E=n(66021),h=n(31048),b=n(16880),g=n(76101),k=n(8981),C=n(48502),P=n(74302),S=n(6443),I=n(39507),y=n(18733),w=n(38352),x=n(62),F=n(75765),O=n(37774),D=n(1383),N=n(73917),T=n(93310),A=n(7955),M=n(87691),R=n(14646),j=n(92661),L=n(97217),V=n(43487),_=n(43303),U=n(68894),K=n(50458),B=n(319),H=n.n(B),q=n(36736),z=n(91727),W=n(48172),Q={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsPinnedInContext_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CopyFriendLinkMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3EmailToSubscribersMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"}}]}}].concat(H()(q.x.definitions),H()([{kind:"FragmentDefinition",name:{kind:"Name",value:"CopyFriendLinkMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),H()(z.S.definitions),H()(W.g.definitions))},X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButtonQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ExpandablePostCardEditorWriterButton_post"}}]}}]}}].concat(H()(Q.definitions))};function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=(0,u.a)(X,{variables:{postId:e.post.id}}).data;if(null==t||!t.post)return null;var n=Z(Z({},e),{},{post:t.post});return r.createElement($,n)},$=function(e){var t=e.post,n=e.publisherContext,i=e.isEditor,l=e.isWriter,s=e.creator,c=(0,R.I)(),u=(0,y.Uo)(),B=(0,V.v9)((function(e){return e.config.authDomain})),H=t.id,q=t.collection,z=t.responseDistribution,W=t.visibility,Q=t.mediumUrl,X=t.allowResponses,Y=(0,S.H)().value,Z=null==Y?void 0:Y.id,G=null==s?void 0:s.id,$=(0,I.T)(t).viewerEdge,J=q||{id:"",name:""},ee=J.id,te=J.name,ne=(0,U.O)(!1),re=a()(ne,3),ie=re[0],oe=re[1],le=re[2],ae=(0,C.n_)(t,n),se=a()(ae,2),ce=se[0],ue=se[1],de=r.useState(""),me=a()(de,2),pe=me[0],ve=me[1],fe=r.useCallback((function(){le(),ue().then((function(e){var t=e.errors;t&&t.length&&t[0].message?ve(t[0].message):window.location.reload()}))}),[le,ue,ve]),Ee=(0,k.yb)(t),he=(0,U.O)(!1),be=a()(he,3),ge=be[0],ke=be[1],Ce=be[2],Pe=r.useCallback((function(){Ee(q).then((function(){return window.location.reload()}))}),[ee,Ee]),Se=(0,f.j)(H),Ie=a()(Se,1)[0],ye=(0,U.O)(!1),we=a()(ye,3),xe=we[0],Fe=we[1],Oe=we[2],De=(0,j.qt)("ShowHome",{}),Ne=r.useCallback((function(){Ie().then((function(){window.location.assign(De)}))}),[Ie,De]),Te=z===L.Et.DISTRIBUTED,Ae=(0,U.O)(!1),Me=a()(Ae,3),Re=Me[0],je=Me[1],Le=Me[2],Ve={buttonStyle:"ERROR",cancelText:"Cancel"},_e="ExpandablePostCardEditorWriterMenu",Ue="Delete story".concat(Te?" and response":""),Ke=Te?P.Q:r.createElement(d.M,null),Be="LOCKED"===W,He="User"===n&&l||"Collection"===n&&i,qe=function(){Te&&(le(),je())};return r.createElement(r.Fragment,null,r.createElement(D.Q,o()({},Ve,{isVisible:ge,onConfirm:Pe,hide:Ce,titleText:"Remove story",confirmText:"Remove",isDestructiveAction:!0}),"Are you sure you want to remove this story from ",te,"?"),r.createElement(D.Q,o()({},Ve,{isVisible:xe,onConfirm:Ne,hide:Oe,titleText:Ue,confirmText:"Delete",isDestructiveAction:!0}),Ke),r.createElement(D.Q,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:Re,onConfirm:function(){var e=(0,K.d0)(B,H);window.location.replace(e)},hide:Le,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},P.t),r.createElement(N.J,{ariaId:_e,hide:le,isVisible:ie,popoverRenderFn:function(){return r.createElement(w.mX,null,r.createElement(v.l,{type:"popover",handleClick:qe,href:(0,K.d0)(B,H)},"Edit story"),(i||l&&"User"===n)&&r.createElement(w.Sl,null,r.createElement(T.r,{onClick:fe},ce?"Unpin":"Pin"," story")),r.createElement(h.w4,{post:t,onClick:le,menuStyle:"TEXT"}),r.createElement(w.oK,null),r.createElement(w.Sl,null,r.createElement(T.r,{href:(0,K.KI)(B,H)},"Story settings")),r.createElement(w.Sl,null,r.createElement(T.r,{href:(0,K.T0)(B,H)},"Story stats")),Be&&Q&&(null==$?void 0:$.shareKey)&&r.createElement(b.$,{post:t,shareKey:null==$?void 0:$.shareKey}),r.createElement(w.oK,null),He?r.createElement(g.r,{hidePopover:le,postId:t.id,allowResponses:X}):null,ee&&r.createElement(w.Sl,null,r.createElement(T.r,{onClick:ke},"Remove story from publication")),l&&r.createElement(w.Sl,null,r.createElement("div",{className:c({color:u.baseTheme.colorTokens.foreground.error.primary.base})},r.createElement(T.r,{onClick:(0,_.B)(le,Fe)},"Delete story"))),i&&!l&&r.createElement(r.Fragment,null,r.createElement(w.oK,null),r.createElement(p.T,{post:t,hidePopover:le}),r.createElement(O.z,{targetUserId:G,postId:t.id,hidePopover:le,viewerId:Z}),r.createElement(E.q,{hidePopover:le,creator:s}),r.createElement(x.F,{hidePopover:le,creator:s,viewer:Y}),r.createElement(F.j,{hidePopover:le,creator:s,viewer:Y})))}},r.createElement(m.c,{"aria-controls":_e,"aria-expanded":ie?"true":"false","aria-label":"More options",onClick:oe,tooltipText:"More"})),r.createElement(A.F,{isVisible:!!pe,hide:function(){return ve("")},duration:5e3},r.createElement(M.F,{scale:"M"},pe)))},J=n(27517),ee=n(59250),te=n(13195),ne=n(25550),re=n(83486),ie=n(51681),oe=function(e){var t=e.post,n=e.viewer,i=t.creator,o=null==i?void 0:i.id,l=(0,U.O)(!1),s=a()(l,3),c=s[0],u=s[1],d=s[2],p="expandablePostCardReaderMenu",v=(0,ne.r)().viewerId,f=(0,I.T)(t).viewerEdge,h=(0,ee.jM)(),b=h.mutedAuthorIds,g=h.setMutedAuthorIds,k=h.mutedPubIds,C=h.setMutedPubIds,P=h.isMutingFromHomeFeed,S=r.useCallback((function(e){g([].concat(H()(b),[e]))}),[b]),y=r.useCallback((function(e){C([].concat(H()(k),[e]))}),[k]),D=(0,J.I0)(),A=r.useCallback((function(e){return D((0,re.at)(e))}),[D]),M=(0,V.b$)((function(e){return e.multiVote.clapsPerPost})),R=(0,ie.l)(M,t,f),j=R.clapCount,L=R.viewerClapCount,_=(0,te.CP)();if(!o)return null;var K=v&&j&&L&&L>0;return r.createElement(N.J,{ariaId:p,hide:d,isVisible:c,popoverRenderFn:function(){return r.createElement(w.mX,null,!!K&&r.createElement(w.Sl,null,r.createElement(T.r,{onClick:function(){return _(t,(null==n?void 0:n.id)||"",-L,f),A({postId:t.id,clapCount:j-L,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void d()}},"Undo applause for this post")),r.createElement(O.z,{targetUserId:o,postId:t.id,hidePopover:d,viewerId:v}),r.createElement(E.q,{hidePopover:d,creator:i,setMutedAuthorId:S,setMutedPubId:y,isMutingFromHomeFeed:P}),r.createElement(x.F,{hidePopover:d,creator:i,viewer:n}),r.createElement(F.j,{hidePopover:d,creator:i,viewer:n}))}},r.createElement(m.c,{"aria-controls":p,"aria-expanded":c?"true":"false","aria-label":"More options",onClick:u,tooltipText:"More"}))},le=n(67701),ae=function(e){var t=e.post,n=e.publisherContext,i=(0,S.H)().value,o=(0,le.gY)(t.collection).viewerEdge,l=!(null==o||!o.isEditor),a=t.creator,s=(null==i?void 0:i.id)===(null==a?void 0:a.id);return i?l||s?r.createElement(G,{post:t,isEditor:l,isWriter:s,publisherContext:n,creator:a}):r.createElement(oe,{post:t,viewer:i}):null}},48342:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(67294),i=n(14646),o=n(21372),l=function(e){return{color:e.baseColor.text.lighter}},a=function(e){var t=e.readingTime,n=e.isLighterText,a=void 0!==n&&n,s=(0,i.I)();if(!t)return null;var c="".concat((0,o.Vd)(t)," min read");return r.createElement("span",{className:a?s(l):void 0},c)}},85256:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){switch(e){case"PUBLIC":return 0;case"UNLISTED":return 1;case"LOCKED":return 2;default:return}}},68717:(e,t,n)=>{"use strict";n.d(t,{Q:()=>F,u:()=>O});var r=n(67294),i=n(35989),o=n(68427),l=n(84739),a=n(65968),s=n(64238),c=n(21309),u=n(60765),d=n(63459),m=n(17311),p=n(34796),v=n(35473),f=n(28695),E=n(77355),h=n(26244),b=n(21755),g=n(87691),k=n(18155),C=n(14646),P=n(17583),S=n(58992);function I(e,t){return t&&(0,k.nE)(e)?e[t]:e}var y=function(e){var t=e.author,n=e.forceSize,i=e.scale,o=void 0===i?"M":i,c=(0,P.s)(),d=(0,l.B)(t),m=(0,s.o)(t),p=c===b.j.xs;if(!t||!t.name)return null;var v=r.createElement(u.g,{href:d},r.createElement(E.x,{display:"flex",flexWrap:"nowrap",alignItems:"center"},r.createElement(g.F,{color:"ACCENT",scale:I(o,n)},t.name),m&&r.createElement(E.x,{marginLeft:"2px",marginTop:"1px"},r.createElement(a._,{size:"S"}))));return r.createElement(E.x,{display:"flex",alignItems:"center"},p?v:r.createElement(h.$,{placement:"right",targetDistance:15,mouseLeaveDelay:200,popoverRenderFn:function(){return r.createElement(f.K,{user:t})}},v))},w=function(e){var t=e.collection,n=e.forceSize,i=e.scale,l=void 0===i?"M":i,a=e.post,s=(0,o.R)(t);return(0,S.l)(a)?r.createElement(u.g,{href:s},r.createElement(g.F,{scale:I(l,n),color:"DARKER"},"Published in",r.createElement(c.t,{collection:t,marginLeft:"4px"}))):null},x=function(e){var t=e.small,n=void 0!==t&&t,i=e.hideDot,o=void 0!==i&&i,l=(0,C.I)();return r.createElement("span",{className:l({margin:"0 ".concat(n?4:7,"px")})},o?null:"Â·")},F=function(e){var t=e.datePrefix,n=void 0===t?"":t,o=e.forceSize,l=e.isOneLine,a=e.withMidDot,s=void 0===a||a,c=e.href,v=e.onClick,f=e.publishedAt,h=e.scale,b=void 0===h?"M":h,k=e.showStar,C=void 0!==k&&k,P=e.showPinned,S=void 0!==P&&P,y=e.timeColor,w=void 0===y?"LIGHTER":y,F=e.timeToRead,O=e.post;if(!f&&!F)return null;var D=l?m.h:d.E;return r.createElement(E.x,{display:"flex",alignItems:"center"},r.createElement(u.g,{href:c,onClick:v},r.createElement(g.F,{color:w,scale:I(b,o)},l&&s&&r.createElement(x,{small:!0,hideDot:!!F&&!!f}),f&&!S?r.createElement(r.Fragment,null,n,r.createElement(D,{hasPrefix:!(!l||!n)||void 0,timestamp:f})):null,S?r.createElement("span",null,"Pinned"):null,f&&F?r.createElement(x,null):null,F||null,!f&&r.createElement(r.Fragment,null,r.createElement(x,{small:l}),r.createElement(g.F,{color:"DARKER",scale:I(b,o),tag:"span"},r.createElement(p.FV,{post:O}))))),C&&r.createElement(i.U,{padding:"0 0 0 4px",post:O}))},O=function(e){var t=e.avatar,n=void 0===t?null:t,i=e.datePrefix,o=e.forceSize,l=e.hideAuthor,a=void 0!==l&&l,s=e.href,c=e.onClick,u=e.isOneLine,d=void 0!==u&&u,m=e.publisher,p=e.publishedAt,f=e.scale,E=e.showStar,h=void 0!==E&&E,b=e.showPinned,g=void 0!==b&&b,k=e.timeColor,C=e.timeToRead,P=e.post,S=null;"Collection"===m.__typename?S=r.createElement(w,{collection:m,forceSize:o,scale:f,post:P}):a||(S=r.createElement(y,{author:m,forceSize:o,scale:f}));var I="Collection"===m.__typename||!a;return r.createElement(v.Y,{avatar:a?null:n,isOneLine:d,title:S,description:r.createElement(F,{datePrefix:i,publishedAt:p,timeToRead:C,withMidDot:I,href:s,onClick:c,showStar:h,showPinned:g,forceSize:o,scale:f,timeColor:k,isOneLine:d,post:P})})}},18305:(e,t,n)=>{"use strict";n.d(t,{o:()=>v,h:()=>f});var r=n(28655),i=n.n(r),o=n(92471),l=n(67294),a=n(85256),s=n(18627),c=n(66411),u=n(14646),d=n(18122);function m(){var e=i()(["\n  fragment PostPresentationTracker_post on Post {\n    id\n    visibility\n    previewContent {\n      isFullContent\n    }\n    collection {\n      id\n      slug\n    }\n  }\n"]);return m=function(){return e},e}var p={width:"100%",height:"100%"};function v(e){var t=e.post,n=e.presentationContext,r=e.suppressedEvents,i=e.children,o=e.isDisplayingFullPost,m=e.reportClientViewedOnFullPost,v=e.postClientViewedContext,f=e.pinned,E=e.shouldReportClientViewed,h=void 0===E||E,b=e.referrerSource,g=(0,u.I)(),k=(0,s.Av)(),C=(0,c.pK)(),P=l.useCallback((function(){if(t&&"ALL"!==r){var e=t.visibility,i=t.previewContent,l=t.collection,s=null!==o?o:i&&i.isFullContent,c=b?{referrerSource:b}:void 0;"PRESENTED"!==r&&k.event("post.clientPresented",{postId:t.id,source:C,collectionId:l?l.id:null,isFullPost:s,pinned:f,postVisibility:(0,a.z)(e),context:"POST_PREVIEW"!==n?n.toLowerCase():null},c),m&&s&&"VIEWED"!==r&&h&&k.event("post.clientViewed",{postId:t.id,source:C,collectionId:l?l.id:null,collectionSlug:l?l.slug:null,context:v,isFriendLink:!1,pinned:f})}}),[t,r,n,f,b,C]),S=(0,d.g)({onPresentedFn:P});return l.createElement("div",{className:g(p),ref:S},i)}var f=(0,o.Ps)(m())},68821:(e,t,n)=>{"use strict";n.d(t,{V:()=>u});var r=n(23493),i=n.n(r),o=n(67294),l=n(18627),a=n(66411),s=n(34135),c=n(84509);function u(e,t,n){var r=(0,l.Av)(),u=(0,a.Qi)(),d=Date.now(),m=null,p=o.useCallback(i()((function(){if(e.current){var n=(0,c.L6)(e.current);if((0,c.pn)(n)){var i=Date.now(),o=(0,c.tM)(n),l=(0,c.UO)(),a=(0,c.t_)(),s=Math.round(o.top),p=Math.round(o.top+o.height),v=l.top,f=l.top+a.height,E=l.height,h={postIds:[t.id],collectionIds:[t.collection?t.collection.id:""],sequenceIds:[t.sequence?t.sequence.sequenceId:""],sources:[u],tops:[s],bottoms:[p],areFullPosts:[!0],loggedAt:i,timeDiff:null!==m?Math.round(i-m):0,scrollTop:v,scrollBottom:f,scrollableHeight:E,viewStartedAt:d};r.event("post.streamScrolled",h),m=i}}}),1e3),[t]);o.useEffect((function(){p();var e=null!=n&&n.current?(0,s.jC)(null==n?void 0:n.current):s.V6;return e.on("scroll_end",p),function(){e.off("scroll_end",p)}}),[p])}},81494:(e,t,n)=>{"use strict";n.d(t,{O1:()=>o}),n(59713);var r=n(67294),i=r.createContext(null),o=function(e){var t=e.event,n=e.children;return r.createElement(i.Provider,{value:{event:t}},n)}},58992:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r=function(e){return"APPROVED"===e.statusForCollection&&e.isPublished}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7064.b9c55f40.chunk.js.map